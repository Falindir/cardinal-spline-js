/*	Curve extension for canvas 2.0
 *	Epistemex (c) 2013-2014
 *	License: MIT
*/
CanvasRenderingContext2D.prototype.curve=function(g,A,f){A=(typeof A==="number")?A:0.5;f=f?f:20;var n,o=[],e=g.length,v,d,b=[];n=g.slice(0);n.unshift(g[1]);n.unshift(g[0]);n.push(g[e-2],g[e-1]);b.push([1,0,0,0]);for(v=1;v<f;v++){var p=v/f,q=p*p,s=q*p,r=s*2,u=q*3;b.push([r-u+1,u-r,s-2*q+p,s-q])}b.push([0,1,0,0]);for(d=2;d<e;d+=2){var h=n[d],j=n[d+1],k=n[d+2],m=n[d+3],w=(k-n[d-2])*A,x=(m-n[d-1])*A,y=(n[d+4]-h)*A,z=(n[d+5]-j)*A;for(v=0;v<=f;v++){var a=b[v];o.push(a[0]*h+a[1]*k+a[2]*w+a[3]*y,a[0]*j+a[1]*m+a[2]*x+a[3]*z)}}for(d=0,e=o.length;d<e;d+=2){this.lineTo(o[d],o[d+1])}return o};